<widget>
    <div style="min-height: 600px">
        <link rel="stylesheet" href="../../assets/css/versionHistory.css" data-th-href="${portal.assetUrl({'_path=css/versionHistory.css'})}" type="text/css" media="all">

        <div class="timeMachine">
            <div data-th-if="${versions.empty}"><span>Det er ingen tidligere versjoner av dette inneholdet</span></div>
            <div><a data-th-href="'/admin/site/admin/default/master/_/widgets/no.nav.navno/versionHistory/?contentId=' + ${contentId}">Fullskjerm</a></div>
                <ul data-th-each="version: ${versions}" data-th-remove="tag">
                <li class="version ekspanderbartPanel related-info__panel ekspanderbartPanel--lukket ekspanderbartPanel--border" id="version.versionId">
                    <button id="" class="ekspanderbartPanel__hode" aria-expanded="true" type="button">
                        <div class="ekspanderbartPanel__flex-wrapper">
                            <span class="ekspanderbartPanel__tittel">[[${version.from}]] til [[${version.to}]]</span>
                            <span class="ekspanderbartPanel__indikator"></span>
                        </div>
                    </button>
                    <div class="ekspanderbartPanel__innhold">
                        <header>
                            <h1>[[${version.displayName}]]</h1>
                            <time class="pubdate muted" data-th-datetime="${version.publishedFrom}">
                                [[${version.publishedFrom}]]
                            </time>
                            <p class="preface" data-th-if="${version.ingress && version.ingress != ''}">
                                [[${version.ingress}]]
                            </p>
                        </header>
                        <div data-th-if="${version.type == appName + ':content-page-with-sidemenus' || version.type == appName + ':dynamic-page' || version.type == 'portal:fragment' }">
                            <ul data-th-each="part: ${version.parts}">
                                <li class="part">
                                    <div class="fragment ekspanderbartPanel related-info__panel ekspanderbartPanel--lukket ekspanderbartPanel--border" data-th-if="${part.type == 'fragment'}">
                                        <button id="" class="ekspanderbartPanel__hode" aria-expanded="true" type="button">
                                            <div class="ekspanderbartPanel__flex-wrapper">
                                                <span class="ekspanderbartPanel__tittel">[[${part.from}]] til [[${part.to}]]</span>
                                            </div>
                                        </button>

                                        <div class="ekspanderbartPanel__innhold">
                                            <div data-th-utext="${part.content}"></div>
                                        </div>
                                    </div>

                                    <div data-th-if="${part.type != 'fragment'}" data-th-utext="${part.content}"></div>
                                </li>
                            </ul>
                        </div>
                        <div data-th-if="${version.type == appName + ':main-article'}" data-th-remove="tag">
                            <div class="article-body">
                                <div data-th-utext="${version.htmlText}" data-th-remove="tag"></div>
                            </div>
                            <div class="article-facts" data-th-if="${version.hasFact}">
                                <h3 class="h4 decorated">Fakta-boks</h3>
                                <div data-th-utext="${version.htmlFact}"></div>
                            </div>
                            <div data-th-if="${version.imageObj}" class="figure-container">
                                <figure data-th-class="${version.imageObj.imgClass}">
                                    <img data-th-if="${version.imageObj.altText != ''}" data-th-src="${version.imageObj.url}" data-th-alt="${version.imageObj.altText}" src="" alt="" />
                                    <img data-th-if="${version.imageObj.altText == ''}" data-th-src="${version.imageObj.url}" src="" alt="" />
                                    <figcaption class="decorated" data-th-if="${version.imageObj.caption}">
                                        [[${version.imageObj.caption}]]
                                    </figcaption>
                                </figure>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <script data-th-src="${widgetScriptUrl}" async></script>
</widget>
