var Innloggingslinje=function(){function init(){try{if(NAVStatusAJAX.open("GET",navno.authServiceUrl+"?randomness="+10*Math.random(),!1),NAVStatusAJAX.send(null),4==NAVStatusAJAX.readyState&&200==NAVStatusAJAX.status){var json=JSON.parse(NAVStatusAJAX.responseText);json.authenticated?2==json.securityLevel?onAuthenticatedWithSecLevelTwo():json.securityLevel>=3&&onAuthenticatedWithSecLevelThreeOrHigher(json.name.toLowerCase()):onNotAuthenticated()}}catch(e){onNotAuthenticated()}}function onNotAuthenticated(){removeClassJS("login","hidden"),document.getElementById("mainmenu")&&removeClassJS("login-mobil","hidden")}function onAuthenticatedWithSecLevelTwo(){document.getElementById("auth-btns").style.display="none",document.getElementById("mainmenu")&&(document.getElementById("auth-btns-mobil").style.display="none")}function onAuthenticatedWithSecLevelThreeOrHigher(urlEncodedName){addClassJS("auth-btns","idporten"),removeClassJS("logout","hidden"),document.getElementById("mainmenu")&&removeClassJS("logout-mobil","hidden");var name=decodeURI(urlEncodedName);addName(name),removeClassJS("login-details","hidden"),showLoginTooltip()}function addClassJS(id,classname){document.getElementById(id)&&(document.getElementById(id).className+=" "+classname)}function removeClassJS(id,classname){var regex=new RegExp("(^|\\s+)"+classname+"(\\s+|$)","g");null!==document.getElementById(id)&&(document.getElementById(id).className=document.getElementById(id).className.replace(regex,""))}function addName(name){var nameElement=document.getElementById("name");nameElement&&(nameElement.textContent=name,nameElement.innerText=name)}function showLoginTooltip(){loginInfoHasBeenShown()||setCookie(SHOULD_SHOW_LOGIN_TOOLTIP,"1",1)}function loginInfoHasBeenShown(){return-1!==document.cookie.indexOf(LOGIN_TOOLTIP_HAS_BEEN_SHOWN)}function setCookie(key,value,expiresInMinutes){var expires=new Date;expires.setTime((new Date).getTime()+1e3*60*expiresInMinutes),document.cookie=key+"="+value+";expires="+expires.toUTCString()+";domain=.nav.no;path=/;secure"}function deleteCookie(key){setCookie(key,"",new Date(0))}function createXMLHttpRequest(){return"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}),new XMLHttpRequest}var SHOULD_SHOW_LOGIN_TOOLTIP="should_show_login_tooltip",LOGIN_TOOLTIP_HAS_BEEN_SHOWN="login_tooltip_hasbeenshown",NAVStatusAJAX=createXMLHttpRequest();return{LOGIN_TOOLTIP_HAS_BEEN_SHOWN:LOGIN_TOOLTIP_HAS_BEEN_SHOWN,SHOULD_SHOW_LOGIN_TOOLTIP:SHOULD_SHOW_LOGIN_TOOLTIP,init:init,setCookie:setCookie,deleteCookie:deleteCookie}}();